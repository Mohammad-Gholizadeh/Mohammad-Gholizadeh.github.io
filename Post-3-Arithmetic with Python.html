<!DOCTYPE html>
<html lang="en">

<head>
	<title>Post</title>

	<!-- Meta -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Mohammad Gholizadeh's Blog">
	<meta name="author" content="Mohammad Gholizadeh">
	<link rel="shortcut icon" href="favicon.ico">

	<!-- <link rel="stylesheet" href="/assets/materialize/css/materialize.min.css"> -->
	<link rel="stylesheet" href="/assets/css/util.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="/assets/css/style.css">

	<!-- FontAwesome JS-->
	<script defer src="assets/fontawesome/js/all.min.js"></script>

	<!-- Theme CSS -->
	<link id="theme-style" rel="stylesheet" href="assets/css/theme-6.css">

	<!-- jQuery -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script defer src="/assets/js/main.js"></script>
	<script type=”text/javascript”
		src=”http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML”></script>

</head>

<body>
	<!-- PAGE LOADER : PLACE RIGHT AFTER BODY TAG -->
	<div class="page-loader">
		<div class="spinner"></div>
		<div class="txt">Mohammad<br>Gholizadeh</div>
	</div>
	<!-- PAGE LOADER END : PLACE RIGHT AFTER BODY TAG -->


	<!-- PAGE CONTENT: 
		---- THIS WILL CONTAIN THE PAGE CONTENT TO BE 
		---- SHOWN UPON PAGE LOADING COMPLETION & SHOULD
		---- BE PLACED RIGHT AFTER LOADER DIV
		-->

	<header class="header text-center">
		<h1 class="blog-name pt-lg-4 mb-0"><a class="no-text-decoration" href="index.html">Mohammad's Blog</a></h1>

		<nav class="navbar navbar-expand-lg navbar-dark">

			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navigation"
				aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div id="navigation" class="collapse navbar-collapse flex-column">
				<div class="profile-section pt-3 pt-lg-0">
					<img class="profile-image mb-3 rounded-circle mx-auto filter_shadow" src="assets/images/avatar.png"
						alt="image">

					<div class="bio mb-3">Hi, my name is Mohammad Gholizadeh. I'm a Telecommunication engineer.<br><a
							href="about.html">Find out more about me..!</a></div><!--//bio-->
					<ul class="social-list list-inline py-3 mx-auto">
						<li class="list-inline-item"><a href="https://wa.me/989302843470"><i
									class="fab fa-whatsapp fa-fw"></i></a></li>
						<li class="list-inline-item"><a
								href="https://www.linkedin.com/in/mohammad-gholizadeh-019682205"><i
									class="fab fa-linkedin-in fa-fw"></i></a></li>
						<li class="list-inline-item"><a href="https://github.com/Mohammad-Gholizadeh"><i
									class="fab fa-github-alt fa-fw"></i></a></li>
						<li class="list-inline-item"><a href="https://join.skype.com/invite/iQahMcowhKUO"><i
									class="fab fa-skype fa-fw"></i></a></li>
						<li class="list-inline-item"><a href="https://t.me/MOHAMMAD007753"><i
									class="fab fa-telegram fa-fw"></i></a></li>
						<li class="list-inline-item"><a href="mailto:Mohammad007753@yahoo.com"><i class="fa fa-envelope"
									aria-hidden="true"></i></a></li>
					</ul><!--//social-list-->
					<hr>
				</div><!--//profile-section-->

				<ul class="navbar-nav flex-column text-start">
					<li class="nav-item">
						<a class="nav-link active" href="index.html"><i class="fas fa-home fa-fw me-2"></i>Home<span
								class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/Recent Posts.html"><i class="fas fa-bookmark fa-fw me-2"></i>Recent
							Posts</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="about.html"><i class="fas fa-user fa-fw me-2"></i>About Me</a>
					</li>
				</ul>

				<div class="my-2 my-md-3 filter_shadow">
					<a class="btn btn-primary" href="/assets/files/CV-Mohammad Gholizadeh.pdf" target="_blank">CV
						Download</a>
				</div>
			</div>
		</nav>
	</header>

	<div class="main-wrapper">

		<article class="blog-post px-3 py-5 p-md-5">
			<div class="container single-col-max-width">
				<header class="blog-post-header">
					<h2 class="title mb-2">Arithmetic Encoding and Decoding with Python</h2>
					<div class="meta mb-3"><span class="date">Published 1 days ago</span><span class="time">5 min
							read</span><span class="comment"><a class="text-link" href="#">12 comments</a></span></div>
				</header>

				<hr
					class="wp-block-separator has-text-color has-cyan-bluish-gray-color has-alpha-channel-opacity has-cyan-bluish-gray-background-color has-background is-style-wide" />

				<div class="blog-post-body">

					<blockquote class="wp-block-quote">
						<p>One of the methods of source coding based on entropy is Arithmetic coding. Arithmetic coding
							is a newer
							coding method that usually yields better results compared to Huffman coding. In Huffman
							coding, each
							symbol is typically assigned a code word, with a specific number of bits allocated for it.
							In contrast,
							in Arithmetic coding, the entire data can be encoded with a single numeric value. For each
							symbol,
							an occurrence probability and a corresponding range in the data are considered. The encoded
							equivalent
							of each data is represented by a number within the range of zero to one. This range is
							determined
							based on the order of the symbols and the corresponding interval for each. As the symbol
							length
							increases, the interval will also become narrower.</p>

						<p>Now, let's examine the process of arithmetic coding with an example.</p>

						<h4>Encoding:</h4>

						<p>Suppose we want to encode the message "abc" according to the frequency table below.
							First, we determine the probability of each symbol according to the following formula:</p>

						<math display='block' style="margin: 30px 1px 30px 1px;">
							<mrow>
								<mi><b>P</b></mi>
								<mi><b>(X)</b></mi>
								<mo><b>=</b></mo>
								<mfrac>
									<mi><b>Frequency of symbol X</b></mi>
									<mi><b>Sum of all frequencies</b></mi>
								</mfrac>
							</mrow>
						</math>
						<!-- <cite><em><strong><a href="http://www.buck.co/" data-type="URL" data-id="http://www.buck.co/">By
										Buck</a></strong></em> , <strong>Qualcomm </strong></cite> -->
					</blockquote>

					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Table for Symbols and Probability of them.jpg" alt=""
							class="wp-image-190" style="margin: 30px 1px 30px 1px;"/></li>

					<p>Now, using the following equation, we obtain the values of the intervals:</p>
					
					<math display='block' style="margin: 30px 1px 30px 1px;">
						<mrow>
							<mi><b>S</b></mi>
							<mo><b>+</b></mo>
							<mi><b>P</b></mi>
							<mi><b>(X)</b></mi>
							<mo><b>&#x00D7;</b></mo>
							<mi><b>R</b></mi>
						</mrow>
					</math>

					<p><b>S:</b> Cumulative sum of all previous probabilities.</p>
					<p><b>P(X):</b> Symbol probability.</p>
					<p><b>R:</b> The line interval calculated by the difference between the start and end points of the
						line, starting from
						point 0 and ending at point 1. Therefore, initially, R = 1-0 = 1.</p>
					<p><b>L:</b> The length of the message. (The number of symbols in the original message).</p>
					<p>The number of steps required to calculate the intervals is equal to Stages = L + 1.</p>

					<h5>In the first step, we have:</h5>
					<center style="margin: 30px 1px 30px 1px;"><b>R = 1.0 - 0.0</b></center>
					<ul>

						<li><b>a :</b> 0.0 --- 0.0+ (0.2) * 1 = 0.2 ---------> (0.0 , 0.2)</li>

						<li><b>b :</b> 0.2 --- 0.2 + (0.7) * 1 = 0.9 ---------> (0.2 , 0.9)</li>

						<li><b>c :</b> 0.9 --- 0.9 + (0.1) * 1 = 1.0 ---------> (0.9 , 1.0)</li>

					</ul>
					<p><b>Note: </b>The beginning of each interval is the end of the previous interval.</p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Interval-1.jpg" alt="" class="wp-image-190" style="margin: 30px 1px 30px 1px;"/></li>

					<h5>In the second step, we have:</h5>
					<p>The first symbol in the message is 'a', so the new R is obtained based on the new interval for
						the symbol 'a':</p>
					<center style="margin: 30px 1px 30px 1px;"><b>R = 0.2 - 0.0 = 0.2</b></center>
					<ul>

						<li><b>a :</b> 0.0 --- 0.0+ (0.2) * 0.2 = 0.04 ---------> (0.0 , 0.04)</li>

						<li><b>b :</b> 0.04 --- 0.04 + (0.7) * 0.2 = 0.18 ---------> (0.04 , 0.18)</li>

						<li><b>c :</b> 0.18 --- 0.18 + (0.1) * 0.2 = 0.20 ---------> (0.18 , 0.20)</li>

					</ul>
					<p>Each symbol takes a portion of the line, and its length is equal to its probability. For example,
						for the
						symbol 'b', we have:</p>
					<center style="margin: 30px 1px 30px 1px;"><b>0.7 = (0.18 – 0.04)/0.2</b></center>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Interval-2.jpg" alt="" class="wp-image-190" style="margin: 30px 1px 30px 1px;"/></li>

					<h5>In the third step, we have:</h5>
					<p>The second symbol in the message is 'b', so the new R is obtained based on the new interval for
						the symbol 'b':</p>
					<center style="margin: 30px 1px 30px 1px;"><b>R = 0.18 – 0.04 = 0.14</b></center>
					<ul>

						<li><b>a :</b> 0.04 --- 0.04+ (0.2) * 0.14 = 0.068 ---------> (0.04 , 0.068)</li>

						<li><b>b :</b> 0.068 --- 0.068 + (0.7) * 0.14 = 0.166 ---------> (0.068 , 0.166)</li>

						<li><b>c :</b> 0.166 --- 0.166 + (0.1) * 0.14 = 0.18 ---------> (0.166 , 0.18)</li>

					</ul>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Interval-3.jpg" alt="" class="wp-image-190" style="margin: 30px 1px 30px 1px;"/></li>

					<h5>In the fourth step, we have:</h5>
					<p>The third and last symbol in the message is 'c', so the new R is obtained based on the new
						interval for
						the symbol 'c':</p>
					<center style="margin: 30px 1px 30px 1px;"><b>R = 0.18 – 0.166 = 0.014</b></center>
					<ul>

						<li><b>a :</b> 0.166 --- 0.166+ (0.2) * 0.014 = 0.1688 ------> (0.166 , 0.1688)</li>

						<li><b>b :</b> 0.1688 --- 0.1688 + (0.7) * 0.014 = 0.1786 -----> (0.1688 , 0.1786)</li>

						<li><b>c :</b> 0.1786 --- 0.1786 + (0.1) * 0.014 = 0.18 ----> (0.1786 , 0.18)</li>

					</ul>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Interval-4.jpg" alt="" class="wp-image-190" style="margin: 30px 1px 30px 1px;"/></li>

					<h5>Therefore, the final interval is obtained: </h5>
					<center style="margin: 30px 1px 30px 1px;"><b>(0.0,1.0)---->(0.0,0.2)---->(0.04,0.18)---->(0.166,0.18)</b></center>

					<p>Based on the last interval obtained (0.166, 0.18), any value within this interval can be used to
						encode
						the message. For example, we choose the average value: </p>
					<center style="margin: 30px 1px 30px 1px;"><b>0.173 = (0.166 + 0.18)/2.</b></center>
					<p>Therefore, according to the frequency table above:</p>
					<center style="margin: 30px 1px 30px 1px;"><b>abc ------------> 0.173.</b></center>
					<p>Note that if the frequency table changes, the encoded message value will also change. Up to this
						point,
						the encoding process has been completed.</p>

					<h4>Decoding:</h4>
					<p>Now we begin the Decoding stage. The inputs, or the required data, are as follows:</p>
					<ul>

						<li>Encoded message value</li>

						<li>Frequency table (the same frequency table used in encoding)</li>

						<li>Number of symbols in the original message</li>

					</ul>
					<center style="margin: 30px 1px 30px 1px;"><b>L = 3 , C = 0.173 </b></center>

					<h5>Step 1: </h5>
					<p>Calculating the probabilities of symbols.</p>
					<h5>Step 2: </h5>
					<p>According to the equation, the intervals are recalculated: <b>S + P(x) * R</b></p>
					<p>The value 0.173 falls within the interval (0.0, 0.2). Therefore, the first symbol in the encoded
						message is 'a'.</p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Interval-5.jpg" alt="" class="wp-image-190" style="margin: 30px 1px 30px 1px;"/></li>
					<p>The value 0.173 falls within the interval (0.04, 0.18). Hence, the second symbol in the encoded
						message is 'b'.</p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Interval-6.jpg" alt="" class="wp-image-190" style="margin: 30px 1px 30px 1px;"/></li>
					<p>The value 0.173 falls within the interval (0.166, 0.18). Therefore, the third symbol in the
						encoded
						message is 'c'.</p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Interval-7.jpg" alt="" class="wp-image-190" style="margin: 30px 1px 30px 1px;"/></li>
					<p>Considering that the number of symbols in the original message was 3, the encoding process is
						complete, and the message is as follows:</p>
					<center style="margin: 30px 1px 30px 1px;"><b>Message --------> abc</b></center>
					<p>The general overview of the steps:</p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/General Overview of Steps.jpg" alt=""
							class="wp-image-190" style="margin: 30px 1px 30px 1px;"/></li>

					<hr>
					<h5>Simulation: </h5>
					<p>Simulation based on the general frequency table for letters, numbers, and Latin symbols for long
						texts is
						provided below. Additionally, simulation based on a custom frequency table for limited texts
						with a few
						specified characters, as shown in the example, is also presented. Furthermore, an application
						designed to
						run on the Windows operating system is ultimately developed, and images related to it are
						provided below.
						All simulations are implemented in <b>Python</b>.</p>

					<p>The Python code related to arithmetic coding and encoding for the user-defined frequency
						table: </p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Code-1.jpg" alt="" class="wp-image-190" /></li>
					<hr>
					<p>Part of the Python code related to arithmetic coding and encoding for main processing core: </p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Code-2.jpg" alt="" class="wp-image-190" /></li>
					<hr>
					<p>The Python code related to arithmetic coding and decoding for long texts and with a
						predefined frequency table: </p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Code-3.jpg" alt="" class="wp-image-190" /></li>
					<hr>
					<p>Part of the Python code related to arithmetic coding and decoding for frequency table
						with large codes:</p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Code-4.jpg" alt="" class="wp-image-190" /></li>
					<hr>
					<p>The Python code related to Arithmetic Encoding: </p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Code-5.jpg" alt="" class="wp-image-190" /></li>
					<p>The Python code related to Arithmetic Decoding: </p>
					<hr>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Code-6.jpg" alt="" class="wp-image-190" /></li>
					<hr>
					<p>The application window for small codes with a predefined frequency table: </p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Code-7.jpg" alt="" class="wp-image-190" /></li>
					<hr>
					<p>The application window for large codes: </p>
					<li class="list-inline-item"><img decoding="async" width="90%" height="90%" data-id="190"
							src="/assets/images/Img For Posts/Code-8.jpg" alt="" class="wp-image-190" /></li>
					<hr>
					<!-- <h5>References: </h5>
					<p>Chapter 6: Lossless Compression by Mohammad Mehr Alian</p> -->

				</div>

				<nav class="blog-nav nav nav-justified my-5">
					<a class="nav-link-prev nav-item nav-link rounded-left" href="#">Previous<i
							class="arrow-prev fas fa-long-arrow-alt-left"></i></a>
					<a class="nav-link-next nav-item nav-link rounded-right" href="#">Next<i
							class="arrow-next fas fa-long-arrow-alt-right"></i></a>
				</nav>

				<div class="blog-comments-section">
					<div id="disqus_thread"></div>
					<script>
						/**
						 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT 
						 *  THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR 
						 *  PLATFORM OR CMS.
						 *  
						 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: 
						 *  https://disqus.com/admin/universalcode/#configuration-variables
						 */
						/*
						var disqus_config = function () {
							// Replace PAGE_URL with your page's canonical URL variable
							this.page.url = PAGE_URL;  
						    
							// Replace PAGE_IDENTIFIER with your page's unique identifier variable
							this.page.identifier = PAGE_IDENTIFIER; 
						};
						*/

						(function () {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
							var d = document, s = d.createElement('script');

							// IMPORTANT TODO: Replace 3wmthemes with your forum shortname!
							s.src = 'https://3wmthemes.disqus.com/embed.js';

							s.setAttribute('data-timestamp', +new Date());
							(d.head || d.body).appendChild(s);
						})();
					</script>
					<noscript>
						Please enable JavaScript to view the
						<a href="https://disqus.com/?ref_noscript" rel="nofollow">
							comments powered by Disqus.
						</a>
					</noscript>
				</div><!--//blog-comments-section-->

			</div><!--//container-->
		</article>

		<footer class="footer text-center py-2 theme-bg-dark">

			<small class="copyright"><span class="sr-only">love</span><i class="fas fa-copyright"
					style="color: #fb866a;"></i> Designed by <a href="https://mohammad-gholizadeh.infinityfreeapp.com/"
					target="_blank">Mohammad
					Gholizadeh</a> </small>

		</footer>

	</div><!--//main-wrapper-->




	<!-- Javascript -->
	<script src="assets/plugins/popper.min.js"></script>
	<script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>

	<!-- Page Specific JS -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>

	<!-- Custom JS -->
	<script src="assets/js/blog.js"></script>


</body>

</html>